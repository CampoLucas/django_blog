{% extends "app_blog/base.html" %}
{% load static %}

{% block title %}{{ user.username }} Profile{% endblock %}

{% block nav-items %}
    {% if request.user == user %}
    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4 text-light" href="#">+ Blog</a></li>
    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4 text-light" href="{% url 'user-update' request.user.id %}">Update</a></li>
    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4 text-danger" href="#">Delete</a></li>
    {%endif%}
{% endblock %}

{%block nav-color%}bg-black{%endblock%}

{% block main %}
	<main>
		<div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
					<h1>User Profile</h1>
                    
                    <div>
                        <hr>
                        <p>{{ user.username }}</p>
                        <p>{{ user.name }}</p>
                        <p>{{ user.email }}</p>
                        <hr>
                    </div>
            
                    <div>
                        <h1>
                            Blogs
                            {% if request.user.is_authenticated %}
                                <a class="btn btn-outline-primary btn-sm rounded" href="{% url 'blog-add' %}">+ Blog</a>
                            {%endif%}
                        </h1>
                        
                        {% if user.related_blogs.all %}
                            
                            {% for blog in user.related_blogs.all %}
                                <div>
                                    <a href="{% url 'blog-detail' blog.id %}" style="text-decoration:none;">{{ blog.title }}</a>
                                </div>
                                    
                            {% endfor %}
                            
                        {% else %}
                            <p>There are no blogs yet.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
	</main>
{% endblock %}